{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1575a035_bd888ff4",
        "filename": "rbh-fsevents/src/enrichers/posix.c",
        "patchSetId": 1
      },
      "lineNbr": 512,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2024-02-21T08:41:21Z",
      "side": 1,
      "message": "question: if I understand this correctly, this is to avoid overwriting what enrich_lustre does in posix_enrich, right ? The issue I have with this is that once enriched, the xattr should be removed from the enrich map. So why do you need to do this? It seems to me that it\u0027s the Lustre enricher that should remove the enriched xattrs between the call to enrich_lustre and enrich_posix.\n\nAlso, this modification should be mentioned in the commit message. It took me some time to understand.",
      "range": {
        "startLine": 504,
        "startChar": 8,
        "endLine": 512,
        "endChar": 9
      },
      "revId": "7c94d168bdfca258c62468dda4ad9bf328b8b6d6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "200a8b4d_c61c19af",
        "filename": "rbh-fsevents/src/enrichers/posix.c",
        "patchSetId": 1
      },
      "lineNbr": 512,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2024-02-22T09:26:18Z",
      "side": 1,
      "message": "On the one hand, I agree with you, but on the other, this would require large modifications to the code, because we would have to pass to the Lustre enricher the list of attributes to enrich (the full list under \u0027rbh-fsevent\u0027 in the fsevent), then get the sequence of xattrs to enrich in that list, check if the expiration attribute is present. If not, we\u0027d have to create a new sequence containing the old sequence without the retention attribute, and set the whole thing back to the fsevent.\n\nSo I\u0027m not the sure the cost of rewriting a great deal of code, and losing clarity and simplicity is worth it... Any opinion ?\n\nFor now I\u0027ve mentioned this change in the commit message",
      "parentUuid": "1575a035_bd888ff4",
      "range": {
        "startLine": 504,
        "startChar": 8,
        "endLine": 512,
        "endChar": 9
      },
      "revId": "7c94d168bdfca258c62468dda4ad9bf328b8b6d6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3c5980bc_13cf1a42",
        "filename": "rbh-fsevents/src/enrichers/posix.c",
        "patchSetId": 1
      },
      "lineNbr": 512,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2024-02-23T08:01:58Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "200a8b4d_c61c19af",
      "range": {
        "startLine": 504,
        "startChar": 8,
        "endLine": 512,
        "endChar": 9
      },
      "revId": "7c94d168bdfca258c62468dda4ad9bf328b8b6d6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "45009520_95da25b8",
        "filename": "rbh-fsevents/src/enrichers/posix.c",
        "patchSetId": 1
      },
      "lineNbr": 512,
      "author": {
        "id": 1019048
      },
      "writtenOn": "2024-02-23T13:48:52Z",
      "side": 1,
      "message": "Found a way easier and better way to do this",
      "parentUuid": "3c5980bc_13cf1a42",
      "range": {
        "startLine": 504,
        "startChar": 8,
        "endLine": 512,
        "endChar": 9
      },
      "revId": "7c94d168bdfca258c62468dda4ad9bf328b8b6d6",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}