{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bcda5cef_b4feca5e",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:00:38Z",
      "side": 1,
      "message": "Maybe I\u0027m asking this question because it was a while ago, but why don\u0027t we use the policy filters directly on the mongo/sqlite iterators?",
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a1302627_1593d82a",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 450,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:01:37Z",
      "side": 1,
      "message": "minor: not necessarily a mongo iterator, maybe a sqlite one?",
      "range": {
        "startLine": 450,
        "startChar": 40,
        "endLine": 450,
        "endChar": 50
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91ea4d89_cf8b8926",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 450,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a1302627_1593d82a",
      "range": {
        "startLine": 450,
        "startChar": 40,
        "endLine": 450,
        "endChar": 50
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92eef1db_fc25796d",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 459,
      "author": {
        "id": 1037727
      },
      "writtenOn": "2026-01-06T14:39:14Z",
      "side": 1,
      "message": "style: order",
      "range": {
        "startLine": 459,
        "startChar": 4,
        "endLine": 459,
        "endChar": 24
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1918a4e9_d43b7b7b",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 459,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "92eef1db_fc25796d",
      "range": {
        "startLine": 459,
        "startChar": 4,
        "endLine": 459,
        "endChar": 24
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "69df0878_f2471533",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 477,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:00:38Z",
      "side": 1,
      "message": "question: can\u0027t you free `uri` in all cases?",
      "range": {
        "startLine": 477,
        "startChar": 8,
        "endLine": 477,
        "endChar": 18
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7c73daaf_b2d50a33",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 477,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "I don\u0027t think so, the `error(EXIT_FAILURE)` will terminate the program without going through the free if I use a free in all cases.",
      "parentUuid": "69df0878_f2471533",
      "range": {
        "startLine": 477,
        "startChar": 8,
        "endLine": 477,
        "endChar": 18
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4c3e958c_ba3776f0",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 477,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-02-05T09:02:11Z",
      "side": 1,
      "message": "What I was saying is to free `uri` before the condition block:\n\n```\nfs_backend \u003d rbh_backend_and_branch_from_uri(uri, true);\nfree(uri);\nif (!fs_backend) {\n  int save_errno \u003d errno;\n  error(...)\n}\n```\n\nThus, no need to release it later, already done.",
      "parentUuid": "7c73daaf_b2d50a33",
      "range": {
        "startLine": 477,
        "startChar": 8,
        "endLine": 477,
        "endChar": 18
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1466980_391577a5",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 477,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-05T15:31:19Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4c3e958c_ba3776f0",
      "range": {
        "startLine": 477,
        "startChar": 8,
        "endLine": 477,
        "endChar": 18
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f22b354_7ba8f7d5",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 487,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:00:38Z",
      "side": 1,
      "message": "minor: no need to indicate which one, or you will need to update this string for each new valid backend",
      "range": {
        "startLine": 487,
        "startChar": 23,
        "endLine": 487,
        "endChar": 38
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02f2cffd_e3b47f9a",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 487,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1f22b354_7ba8f7d5",
      "range": {
        "startLine": 487,
        "startChar": 23,
        "endLine": 487,
        "endChar": 38
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7976b4c5_187dd1ba",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 489,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:00:38Z",
      "side": 1,
      "message": "comment: not fan of this way to check the backend is valid or not ; can\u0027t we verify it in an `rbh-info` way?",
      "range": {
        "startLine": 482,
        "startChar": 4,
        "endLine": 489,
        "endChar": 5
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "589ae59c_df13d427",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 489,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "No, that\u0027s not possible, rbh-info won\u0027t allow us to know if we\u0027re dealing with the real file system here.",
      "parentUuid": "7976b4c5_187dd1ba",
      "range": {
        "startLine": 482,
        "startChar": 4,
        "endLine": 489,
        "endChar": 5
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c74a6203_ae98da7d",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 489,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-02-05T09:02:11Z",
      "side": 1,
      "message": "Well, not sure your method can check that anyway. My point is maybe we can add (if not existing) an additional metadata to the backend to indicate it can lead to a \"real\" input system?",
      "parentUuid": "589ae59c_df13d427",
      "range": {
        "startLine": 482,
        "startChar": 4,
        "endLine": 489,
        "endChar": 5
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91d22945_4d3f7785",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 493,
      "author": {
        "id": 1037727
      },
      "writtenOn": "2026-01-06T14:39:14Z",
      "side": 1,
      "message": "sugest: entry or mirror_entry",
      "range": {
        "startLine": 493,
        "startChar": 8,
        "endLine": 493,
        "endChar": 19
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a94f74e2_88a22852",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 493,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "91d22945_4d3f7785",
      "range": {
        "startLine": 493,
        "startChar": 8,
        "endLine": 493,
        "endChar": 19
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "983cf7dd_5e54e0d6",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 513,
      "author": {
        "id": 1037727
      },
      "writtenOn": "2026-01-06T14:39:14Z",
      "side": 1,
      "message": "style: declare these variables at the start",
      "range": {
        "startLine": 513,
        "startChar": 8,
        "endLine": 513,
        "endChar": 32
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6380dbc6_584f6ebd",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 513,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "983cf7dd_5e54e0d6",
      "range": {
        "startLine": 513,
        "startChar": 8,
        "endLine": 513,
        "endChar": 32
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a4a9c388_4dbc2117",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 531,
      "author": {
        "id": 1017196
      },
      "writtenOn": "2026-01-05T10:00:38Z",
      "side": 1,
      "message": "style: length \u003e80",
      "range": {
        "startLine": 531,
        "startChar": 12,
        "endLine": 531,
        "endChar": 86
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "953a0e91_f46a6928",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 531,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a4a9c388_4dbc2117",
      "range": {
        "startLine": 531,
        "startChar": 12,
        "endLine": 531,
        "endChar": 86
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a1c100f_c41d188f",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 540,
      "author": {
        "id": 1037727
      },
      "writtenOn": "2026-01-06T14:39:14Z",
      "side": 1,
      "message": "sugest:\n```\nif (!rbh_filter_matches_fsentry()) {\n   ...\n}\n```",
      "range": {
        "startLine": 531,
        "startChar": 12,
        "endLine": 540,
        "endChar": 9
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36798103_a0916a8c",
        "filename": "librobinhood/src/policyengine.c",
        "patchSetId": 6
      },
      "lineNbr": 540,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2026-02-03T15:40:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4a1c100f_c41d188f",
      "range": {
        "startLine": 531,
        "startChar": 12,
        "endLine": 540,
        "endChar": 9
      },
      "revId": "397eeaeafdb1f0910d471ff53249a468d355895d",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}