{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "f8a45852_f3ddec6c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Just a few remarks.",
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b8b648c7_7a3d75a5",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "To make things easier the configuration file should be in a standard location and the name of the policy should be enough to find the right configuration file. You can either have a single config file per FS in which case the name of the config will be the FS name and therefore you only need the FS name and the policy name to run a policy. Otherwise, it is one config per policy in which case the name of the config file can be the name of the policy. You can of course add an option to specify an additional config path but that should be optional.",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dd5a279a_dd8a3f1f",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "I have decided to use one configuration file per filesystem, with a default lookup in a standard directory (e.g., /etc/robinhood4.d/). The `--config` option allows me to load an additional file on top of the default one, to inject or override policies if needed.",
      "parentUuid": "b8b648c7_7a3d75a5",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "047e7b5d_76a24a5d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-05-07T13:12:09Z",
      "side": 1,
      "message": "My view is that we should make things as modular as possible while making it possible to reuse configuration. Lets say we have a directory `/etc/robinhood4.d/policies`. rbh-policy can look into this directory by default and be smart enough to append `.py` extensions. So for instance, you would do something like this `rbh-policy run myfs:archive` and this would load the file `/etc/robinhood4.d/policies/myfs.py` and run the policy named \"archive\".\n\nWe could also have something like this: `rbh-policy run \"myfs:archive(max-volume\u003d50TB)\"` for instance.\n\nOr even: `rbh-policies run \"myfs:archive(...)\" \"myotherfs:purge\"` to run 2 policies from 2 different configs in a single command.\n\nI would be cautious with the `--config` argument as for all the other tools this refers to the YAML config... And we can definitly imagine that `rbh-policy` will need the config file at some point (for instance to get the mongodb address).\n\nOne last thought: it could be interesting to have the possibility to split the config into seperate files. I imagine something like this:\n\n```\n$ ls /etc/robinhood4.d/policies/myfs/\nfileclasses.py\narchive.py\nmigrations.py\n```\n\nrbh-policy would make it so that elements of any file can be referenced in others. I don\u0027t know how easy this would be as I assume there might be dependencies between them. For instance, we cannot load archive.py without fileclasses.py in this example. One solution used in other tools on linux is to prefix them by numbers `01-fileclasses.py`, `02-archive.py`... and rbh-policy would load files in lexical order.\n\nThere wouldn\u0027t be a correlation between policy names and filenames. It just adds the possibility to split files logically. Also, we would still allow everything to be declared in a single file like so: `/etc/robinhood4.d/policies/myfs.py`. rbh-policy would be smart enough to detect whether `myfs` is a directory or not. This leaves the question of what if both the directory and the file exist? In this case, we can either return an error or simply load everything anyway.\n\nThis also lets us use declare things that can be common across different filesystems. Having a defaults directory for instance (`/etc/robinhood4.d/policies/defaults/basic_fileclasses.py`).",
      "parentUuid": "dd5a279a_dd8a3f1f",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d89db135_eb5bf478",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 18,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Interesting, I noted all that and added elements in the design, even if at first a simple option is preferred. Making the import of the config as flexible as possible is a goal of this policy engine",
      "parentUuid": "047e7b5d_76a24a5d",
      "range": {
        "startLine": 18,
        "startChar": 1,
        "endLine": 18,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19592080_8820435d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "What does this mean?",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dbae849d_db4aea42",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "The term file is used to refer to any type of storage element.",
      "parentUuid": "19592080_8820435d",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad83e831_e9b96485",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-05-07T13:12:09Z",
      "side": 1,
      "message": "But what is a storage element?",
      "parentUuid": "dbae849d_db4aea42",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c8da34ad_60059c87",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 41,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "This refers to any possible type of entry.",
      "parentUuid": "ad83e831_e9b96485",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 41,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1f088397_738fad98",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "What about performance? I think this is an important aspect of the policy engine.",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 43,
        "endChar": 5
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4eb8fd02_e9b48eab",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 43,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "I have added performance as an explicit goal of the engine.",
      "parentUuid": "1f088397_738fad98",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 43,
        "endChar": 5
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6faf37a_10f50547",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "LastAccess",
      "range": {
        "startLine": 90,
        "startChar": 40,
        "endLine": 90,
        "endChar": 51
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "65cabebb_f020dd48",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 90,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f6faf37a_10f50547",
      "range": {
        "startLine": 90,
        "startChar": 40,
        "endLine": 90,
        "endChar": 51
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7df8bb60_17e779de",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 124,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Not a fan of this. You have now 2 different syntaxes:\n- key \u003d value\n- \"key\": \"value\"\n\nYou could do something like this:\n\n```\ndeclare_policy(\n    ...\n    rules \u003d [\n        Rule(\n            name \u003d \"...\",\n            ...\n        )\n    ]\n)\n```\n\nAlso, why do rules need names?",
      "range": {
        "startLine": 117,
        "startChar": 12,
        "endLine": 124,
        "endChar": 14
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ced4e5aa_e9c508a1",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 124,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7df8bb60_17e779de",
      "range": {
        "startLine": 117,
        "startChar": 12,
        "endLine": 124,
        "endChar": 14
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9399e2c3_b1aeac3d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 145,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You are not consistent with the syntax. This was a string in the previous examples.",
      "range": {
        "startLine": 145,
        "startChar": 41,
        "endLine": 145,
        "endChar": 45
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ab84dead_b50e6523",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 145,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9399e2c3_b1aeac3d",
      "range": {
        "startLine": 145,
        "startChar": 41,
        "endLine": 145,
        "endChar": 45
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ab2daa2_3eaff182",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 155,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Careful here. If you use an f like this the python interpreter will try to resolve the variables directly. You don\u0027t want that. You want variable names to be resolved when the commande is executed.",
      "range": {
        "startLine": 155,
        "startChar": 23,
        "endLine": 155,
        "endChar": 24
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71b23853_97a4fad5",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 155,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ab2daa2_3eaff182",
      "range": {
        "startLine": 155,
        "startChar": 23,
        "endLine": 155,
        "endChar": 24
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "27af52c3_2b84b716",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 161,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You must have a consistent syntax. Otherwise, the benefit of using Python is not so clear.",
      "range": {
        "startLine": 161,
        "startChar": 11,
        "endLine": 161,
        "endChar": 74
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a24e9466_f127ff5f",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 161,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "This should be something like this:\n\nthreshold \u003d FileCount \u003e 1_000_000",
      "range": {
        "startLine": 161,
        "startChar": 48,
        "endLine": 161,
        "endChar": 72
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7181ecb8_d70eab78",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 161,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a24e9466_f127ff5f",
      "range": {
        "startLine": 161,
        "startChar": 48,
        "endLine": 161,
        "endChar": 72
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "66995446_446c4e5c",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 161,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "27af52c3_2b84b716",
      "range": {
        "startLine": 161,
        "startChar": 11,
        "endLine": 161,
        "endChar": 74
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "afdfaf10_ff65210a",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 170,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Talking about OST, this make me think about the possibility to add file\u0027s metadata in the default parameters of the action. For instance, `cmd(\"echo {ost_index}\")`.",
      "range": {
        "startLine": 170,
        "startChar": 7,
        "endLine": 170,
        "endChar": 53
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a52e31a0_d8ce26cd",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 180,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You also need a high/low pair of thresholds. `If value \u003e high: do action while (value \u003e low)`",
      "range": {
        "startLine": 180,
        "startChar": 7,
        "endLine": 180,
        "endChar": 32
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ffc8b97_aca234d7",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 180,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "This functionality is already supported in the current design: you can express it directly using a combined condition in the trigger field. For example, if you want a policy to be executed only while FileCount is between 1000000 and 1200000, you can write: `trigger \u003d (FileCount \u003e 1_000_000) \u0026 (FileCount \u003c 1_200_000)`",
      "parentUuid": "a52e31a0_d8ce26cd",
      "range": {
        "startLine": 180,
        "startChar": 7,
        "endLine": 180,
        "endChar": 32
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cd467eca_5c554a53",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 180,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-05-07T13:12:09Z",
      "side": 1,
      "message": "This is not the same thing. The feature that I suggest is this (with the volume per ost as this is simpler to understand):\n\n1. trigger the policy if OstVolume \u003e MaxVolume\n2. then run the policy:\n```\ncurrent_volume \u003d get_ost_volume(i)\nwhile current_volume \u003e MinVolume:\n    fsentry \u003d next(iter)\n    rm fsentry # Purge policy for instance\n    current_volume -\u003d fsentry.statx.blocks * 512\n```\n\nThis code will run the policy when the volume of one OST reaches MaxVolume but not MinVolume. It will remove files as long as the OST\u0027s volume is higher than MinVolume.",
      "parentUuid": "5ffc8b97_aca234d7",
      "range": {
        "startLine": 180,
        "startChar": 7,
        "endLine": 180,
        "endChar": 32
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "be78b7a5_0b6beccc",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 180,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "If I understand correctly, this behavior is possible today in the action itself. But I understand that integrating it as a native capability of the engine could make this logic simpler to express, more traceable and more optimizable. What do you think is better? Keep everything related to the actions in the actions themselves or apply this to the triggers and put threshold criteria?",
      "parentUuid": "cd467eca_5c554a53",
      "range": {
        "startLine": 180,
        "startChar": 7,
        "endLine": 180,
        "endChar": 32
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1c9482ee_b7b04f2d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Again, not a fan of having a dictionnary.",
      "range": {
        "startLine": 188,
        "startChar": 7,
        "endLine": 188,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7257a05_815b488b",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "We chose the dictionary format primarily for ease of implementation: action functions in Python can accept **kwargs, making it easy to pass variable parameters depending on the action.",
      "parentUuid": "1c9482ee_b7b04f2d",
      "range": {
        "startLine": 188,
        "startChar": 7,
        "endLine": 188,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65b16965_be226cb8",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-05-07T13:12:09Z",
      "side": 1,
      "message": "Right but the goal here is to make the action of writing policies easy for admins.",
      "parentUuid": "a7257a05_815b488b",
      "range": {
        "startLine": 188,
        "startChar": 7,
        "endLine": 188,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c9426353_a8fab5a6",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 188,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "After discussion in the dev team, the dictionary solution seems to be suitable for better visibility. Using functions instead of the dictionary does not really improve visibility and certainly gives consistency with the rest on one side but removes it on the other compared to the current key\u003d system",
      "parentUuid": "65b16965_be226cb8",
      "range": {
        "startLine": 188,
        "startChar": 7,
        "endLine": 188,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "59ce9e24_0d475b4a",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "What is the purpose of the name?",
      "range": {
        "startLine": 198,
        "startChar": 9,
        "endLine": 198,
        "endChar": 13
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ae73dcba_f9f7946b",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 198,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "59ce9e24_0d475b4a",
      "range": {
        "startLine": 198,
        "startChar": 9,
        "endLine": 198,
        "endChar": 13
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04943581_82d24a7c",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 280,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Can this support regex and/or shell expansions (e.g. \"*.txt\")",
      "range": {
        "startLine": 280,
        "startChar": 22,
        "endLine": 280,
        "endChar": 34
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4292f10_30036b06",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 280,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04943581_82d24a7c",
      "range": {
        "startLine": 280,
        "startChar": 22,
        "endLine": 280,
        "endChar": 34
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "063e93f9_9234b298",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 288,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "IName in pascal case",
      "range": {
        "startLine": 288,
        "startChar": 13,
        "endLine": 288,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6132bfe6_8f29848e",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 288,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "063e93f9_9234b298",
      "range": {
        "startLine": 288,
        "startChar": 13,
        "endLine": 288,
        "endChar": 18
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "361e09f8_e9919493",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 296,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Can this support UID as well?",
      "range": {
        "startLine": 296,
        "startChar": 23,
        "endLine": 296,
        "endChar": 28
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b1a9a950_b95e3a4c",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 296,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Not with this filter, I added another dedicated one (we can imagine that a user is called 1100 for example)",
      "parentUuid": "361e09f8_e9919493",
      "range": {
        "startLine": 296,
        "startChar": 23,
        "endLine": 296,
        "endChar": 28
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2fb17479_e6cdbf95",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 308,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "DirCount in pascal case",
      "range": {
        "startLine": 308,
        "startChar": 13,
        "endLine": 308,
        "endChar": 21
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b976d7dc_bdc74d6a",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 308,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2fb17479_e6cdbf95",
      "range": {
        "startLine": 308,
        "startChar": 13,
        "endLine": 308,
        "endChar": 21
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c5fe9efa_2ecac17d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 363,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You can add w (week) and M(month). I don\u0027t think year would be useful. And I don\u0027t know if m or M is better for month or minutes. Maybe larger case for larger times?",
      "range": {
        "startLine": 363,
        "startChar": 0,
        "endLine": 363,
        "endChar": 16
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "787f9c99_5d5075d0",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 363,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "I like the idea !",
      "parentUuid": "c5fe9efa_2ecac17d",
      "range": {
        "startLine": 363,
        "startChar": 0,
        "endLine": 363,
        "endChar": 16
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0def0e93_8f02a275",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 363,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "787f9c99_5d5075d0",
      "range": {
        "startLine": 363,
        "startChar": 0,
        "endLine": 363,
        "endChar": 16
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7dfd5f6_ba385ade",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 390,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "How was this declared?",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "75fce060_2c5612f8",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 390,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "recent_files is declared in the configuration file using declare_fileclass, This registers the condition in a dictionary (fileclasses) and also injects it as a global variable into the config module. So later, expressions like ~recent_files \u0026 (Size \u003c \"10MB\") can reference this variable directly. The ~ operator applies logical negation to the associated condition.",
      "parentUuid": "d7dfd5f6_ba385ade",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef6cc6a7_68640b80",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 390,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-05-07T13:12:09Z",
      "side": 1,
      "message": "You should give a complete example showing how it was declared.",
      "parentUuid": "75fce060_2c5612f8",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5e1c7279_14f1bc78",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 390,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef6cc6a7_68640b80",
      "range": {
        "startLine": 390,
        "startChar": 5,
        "endLine": 390,
        "endChar": 17
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3862a7e3_87ef36e5",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 425,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "There is a concern about security here. We are interpreting code. A python script can run arbitrary functions on module import. It might be interesting to look into possible solutions to avoid this if possible.",
      "range": {
        "startLine": 422,
        "startChar": 30,
        "endLine": 425,
        "endChar": 2
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "adaa1f61_f2165b97",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 425,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "You\u0027re right, I will look into it and consider complementary solutions to reduce the security risks this may involve.  \nBut isn\u0027t the Python configuration for the policy engine only intended for administrators, meaning trusted individuals?",
      "parentUuid": "3862a7e3_87ef36e5",
      "range": {
        "startLine": 422,
        "startChar": 30,
        "endLine": 425,
        "endChar": 2
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8a987739_91371beb",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 458,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "This is vague. What do you have in mind? The python interpreter will report syntax errors. Logical errors have to be reported properly by the engine.",
      "range": {
        "startLine": 456,
        "startChar": 51,
        "endLine": 458,
        "endChar": 19
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b941ae27_a0d1774a",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 458,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "I edited this part to make it clearer.",
      "parentUuid": "8a987739_91371beb",
      "range": {
        "startLine": 456,
        "startChar": 51,
        "endLine": 458,
        "endChar": 19
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9f4fdfd2_318e7483",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 458,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b941ae27_a0d1774a",
      "range": {
        "startLine": 456,
        "startChar": 51,
        "endLine": 458,
        "endChar": 19
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e3c57d8c_f287818b",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 500,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "I don\u0027t think you mention this in the document but in robinhood 3 you can also add parameters to the policy. For instance, the maximum volume of files to be archived when running an archive policy.",
      "range": {
        "startLine": 500,
        "startChar": 31,
        "endLine": 500,
        "endChar": 61
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ba89b843_25035ce5",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 500,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "I added this in the Manual Mode part of rbh-policy Command part",
      "parentUuid": "e3c57d8c_f287818b",
      "range": {
        "startLine": 500,
        "startChar": 31,
        "endLine": 500,
        "endChar": 61
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cd45787e_d0bae3fc",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 500,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ba89b843_25035ce5",
      "range": {
        "startLine": 500,
        "startChar": 31,
        "endLine": 500,
        "endChar": 61
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a95e24f5_3ed13e1f",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 521,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "The logic is reversed compared to the \"manual execution\". The first one is \"type (tool)\" the second one is \"tool (type)\".",
      "range": {
        "startLine": 521,
        "startChar": 3,
        "endLine": 521,
        "endChar": 46
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7dd4bc63_530bc80d",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 521,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a95e24f5_3ed13e1f",
      "range": {
        "startLine": 521,
        "startChar": 3,
        "endLine": 521,
        "endChar": 46
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31c1a8a9_0ccc1ffb",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "I\u0027d prefer using the lustre API for this. We can fork a command on the first implementation but the final engine should avoid forks as much as possible to maximise speed.",
      "range": {
        "startLine": 528,
        "startChar": 27,
        "endLine": 528,
        "endChar": 54
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "003632e6_19ab7565",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 528,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31c1a8a9_0ccc1ffb",
      "range": {
        "startLine": 528,
        "startChar": 27,
        "endLine": 528,
        "endChar": 54
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c15558e1_c9092a7f",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 541,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You should mention that the second check is done per entry against the filesystem not the DB.",
      "range": {
        "startLine": 540,
        "startChar": 38,
        "endLine": 541,
        "endChar": 2
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1b2e8763_5142ef4a",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 541,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c15558e1_c9092a7f",
      "range": {
        "startLine": 540,
        "startChar": 38,
        "endLine": 541,
        "endChar": 2
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "46169da8_349eb9a8",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 596,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Use python\u0027s none: None",
      "range": {
        "startLine": 596,
        "startChar": 2,
        "endLine": 596,
        "endChar": 6
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e97d1156_bad84fd4",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 596,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Why not simply create a filter for these entries and add it to the global filter? Is this something robinhood 3 supports ?",
      "range": {
        "startLine": 596,
        "startChar": 25,
        "endLine": 596,
        "endChar": 57
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "816e24ec_9543c881",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 596,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Yes, this is supported by Robinhood 3. You\u0027re right, it would be more efficient to include such exclusions directly in the policy’s global target. However, using an explicit rule with action \u003d None can be useful in some cases. For example, it allows us to take advantage of the logging system: when a rule is matched, the engine logs statistics about how many entries matched that condition. In contrast, entries excluded via the global target are filtered silently and don\u0027t appear in the execution logs or summary report. This provides better visibility and traceability in some operational scenarios.",
      "parentUuid": "e97d1156_bad84fd4",
      "range": {
        "startLine": 596,
        "startChar": 25,
        "endLine": 596,
        "endChar": 57
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "5dd411e6_ddd1e9f0",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 596,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "46169da8_349eb9a8",
      "range": {
        "startLine": 596,
        "startChar": 2,
        "endLine": 596,
        "endChar": 6
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8742d468_1efc8470",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 596,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "816e24ec_9543c881",
      "range": {
        "startLine": 596,
        "startChar": 25,
        "endLine": 596,
        "endChar": 57
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1b473e39_010ca9ad",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 629,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "entries processed per second is also useful.",
      "range": {
        "startLine": 629,
        "startChar": 2,
        "endLine": 629,
        "endChar": 22
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4b53d737_b5018a41",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 629,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1b473e39_010ca9ad",
      "range": {
        "startLine": 629,
        "startChar": 2,
        "endLine": 629,
        "endChar": 22
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "abd679f8_62cb7887",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 717,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "What do you mean by this?",
      "range": {
        "startLine": 717,
        "startChar": 10,
        "endLine": 717,
        "endChar": 39
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8c71a3af_55af235e",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 717,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "That sentence was unclear, I\u0027ve clarified the wording. I meant running the daemon directly via the CLI using rbh-policy, as an alternative to the systemd-based setup.",
      "parentUuid": "abd679f8_62cb7887",
      "range": {
        "startLine": 717,
        "startChar": 10,
        "endLine": 717,
        "endChar": 39
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b697eeb5_90762733",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 717,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8c71a3af_55af235e",
      "range": {
        "startLine": 717,
        "startChar": 10,
        "endLine": 717,
        "endChar": 39
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08bf01c5_45736539",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 728,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Not sure it makes sense to prevent the daemon from running policies?",
      "range": {
        "startLine": 728,
        "startChar": 35,
        "endLine": 728,
        "endChar": 51
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1293117c_87033741",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 728,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "This is possible in rbh3. This can be useful if you want to ignore a policy without modifying the configuration file directly (this is equivalent to commenting out a policy in the configuration file).",
      "parentUuid": "08bf01c5_45736539",
      "range": {
        "startLine": 728,
        "startChar": 35,
        "endLine": 728,
        "endChar": 51
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "64d73c69_1883b373",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 728,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-14T10:37:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1293117c_87033741",
      "range": {
        "startLine": 728,
        "startChar": 35,
        "endLine": 728,
        "endChar": 51
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "31647e0a_ef605944",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 747,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "People don\u0027t want to manage CLI tools or write their own scripts. The expected approach for a service on linux is this (on RHEL here):\n\n```\ndnf install robinhoo4\n# read doc and write config\nsystemctl start robinhood4@whatever\nsystemctl enable robinhoo4@whatever\n# forget that robinhood4 exists as it should just work\n```\n\nIf you just provide a CLI to start a daemon, you are asking the users to do this for you. Which means that users will prefer to user other simpler tools. :)",
      "range": {
        "startLine": 747,
        "startChar": 21,
        "endLine": 747,
        "endChar": 73
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "10498110_6af848e4",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 747,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "31647e0a_ef605944",
      "range": {
        "startLine": 747,
        "startChar": 21,
        "endLine": 747,
        "endChar": 73
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "06ed4a5b_494af45e",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 749,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "This is not how it works. I understand that you are not familiar with systemd but saying that it is not flexible is wrong. You can configure any aspect of the daemon managed by systemd. It is not more or less flexible. It is just something that you are less familiar with.",
      "range": {
        "startLine": 748,
        "startChar": 29,
        "endLine": 749,
        "endChar": 34
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "48ca2bb9_f27119e2",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 749,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06ed4a5b_494af45e",
      "range": {
        "startLine": 748,
        "startChar": 29,
        "endLine": 749,
        "endChar": 34
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66b158c2_cea14bb6",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 750,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "You don\u0027t need to talk about systemd. And you also don\u0027t need to put both versions in opposition. It is not an either or. To support systemd you need to have `rbh-policy --daemon`. You can simply mention that you will have a daemon and plan on supporting systemd.",
      "range": {
        "startLine": 750,
        "startChar": 25,
        "endLine": 750,
        "endChar": 37
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84603f08_46b5107f",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 750,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66b158c2_cea14bb6",
      "range": {
        "startLine": 750,
        "startChar": 25,
        "endLine": 750,
        "endChar": 37
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fe92454d_2d6835c1",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 763,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "I\u0027m not sur this whole section adds extra information to this design.",
      "range": {
        "startLine": 763,
        "startChar": 1,
        "endLine": 763,
        "endChar": 26
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f5e628f0_c5d2a82e",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 763,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "You\u0027re right, I’ve removed it.",
      "parentUuid": "fe92454d_2d6835c1",
      "range": {
        "startLine": 763,
        "startChar": 1,
        "endLine": 763,
        "endChar": 26
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "02ad420f_05a69da2",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 773,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Why talk about filesystem scans here?",
      "range": {
        "startLine": 773,
        "startChar": 39,
        "endLine": 773,
        "endChar": 61
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1f4202af_33d72edf",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 773,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Good point. This part has been removed along with the broader section.",
      "parentUuid": "02ad420f_05a69da2",
      "range": {
        "startLine": 773,
        "startChar": 39,
        "endLine": 773,
        "endChar": 61
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef266a01_2cf3d3ab",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 774,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "I don\u0027t understand this part. What did you want to say?",
      "range": {
        "startLine": 774,
        "startChar": 0,
        "endLine": 774,
        "endChar": 52
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4faa194_265c3a99",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 774,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef266a01_2cf3d3ab",
      "range": {
        "startLine": 774,
        "startChar": 0,
        "endLine": 774,
        "endChar": 52
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9295a11d_4652817e",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 777,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Which overhead?",
      "range": {
        "startLine": 777,
        "startChar": 27,
        "endLine": 777,
        "endChar": 54
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "75231b07_675b5c15",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 777,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "9295a11d_4652817e",
      "range": {
        "startLine": 777,
        "startChar": 27,
        "endLine": 777,
        "endChar": 54
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3219da61_da4d5f54",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 778,
      "author": {
        "id": 1019142
      },
      "writtenOn": "2025-04-23T11:57:49Z",
      "side": 1,
      "message": "Scale compared to what?",
      "range": {
        "startLine": 778,
        "startChar": 3,
        "endLine": 778,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b67f4fc5_db74b75c",
        "filename": "designs/rbh-policy.rst",
        "patchSetId": 7
      },
      "lineNbr": 778,
      "author": {
        "id": 1038163
      },
      "writtenOn": "2025-05-07T12:02:12Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3219da61_da4d5f54",
      "range": {
        "startLine": 778,
        "startChar": 3,
        "endLine": 778,
        "endChar": 8
      },
      "revId": "cde4d3e6e4f5f3b5410c372028c32700ad3ae4bf",
      "serverId": "d5d70762-12d0-45a1-890d-524b12d3f735"
    }
  ]
}